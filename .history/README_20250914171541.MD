# Proyecto MVC en PHP â€“ Base Modular para Aplicaciones Web

Este repositorio contiene una aplicaciÃ³n web estructurada bajo el patrÃ³n **Modelo-Vista-Controlador** (MVC), diseÃ±ada para facilitar el desarrollo escalable, seguro y mantenible de interfaces dinÃ¡micas en PHP. A continuaciÃ³n se detallan las secciones clave del sistema y las instrucciones para su instalaciÃ³n, uso y extensiÃ³n.

## Ãndice de navegaciÃ³n



## 1. PropÃ³sito y descripciÃ³n funcional

Este proyecto sirve como _plantilla base_ para construir aplicaciones web en PHP con una arquitectura modular. Su objetivo principal es:

- **Separar claramente** la lÃ³gica de negocio, la presentaciÃ³n y el control de flujo.

- **Permitir la carga dinÃ¡mica de vistas** mediante URLs amigables, gestionadas por `.htaccess`.

- **Facilitar la reutilizaciÃ³n** de componentes HTML, scripts y estilos para mantener una interfaz coherente y eficiente.

- **Centralizar la configuraciÃ³n y seguridad** mediante constantes globales definidas en los mÃ³dulos `APP` y `SERVER`.

> `ğŸ’¡ Este enfoque modular permite escalar el sistema sin romper la base, facilitando el trabajo colaborativo y la extensiÃ³n progresiva del proyecto.`

## 2. PÃºblico objetivo y tecnologÃ­as utilizadas

Dirigido a: Desarrolladores web en entornos PHP que necesiten una base estructurada para sistemas administrativos, sitios informativos o prototipos funcionales.

#### TecnologÃ­as principales

- **PHP 8+** â€” ProgramaciÃ³n orientada a objetos para mayor claridad y reutilizaciÃ³n.
- **Apache + .htaccess** â€” Reescritura de URLs y control de acceso desde el servidor.
- **Composer** â€” GestiÃ³n de dependencias y autoloading eficiente.
- **Bootstrap 5** â€” Frontend responsivo con componentes reutilizables.
- **JavaScript** â€” Interactividad y manipulaciÃ³n dinÃ¡mica del DOM.
- **PDO** â€” Acceso seguro a bases de datos mediante prepared statements.
- **AJAX** â€” Peticiones asÃ­ncronas sin recargar la pÃ¡gina.
- **OpenSSL** â€” EncriptaciÃ³n de datos sensibles para mayor seguridad.

> `ğŸ’¡ Este stack estÃ¡ diseÃ±ado para acelerar el desarrollo seguro y modular de aplicaciones web.`

## 3. InstalaciÃ³n y configuraciÃ³n

#### Requisitos:

- **PHP 8.0** o superior
- **Apache** (_incluido en XAMPP_)
- **Composer**

> `ğŸ’¡ AsegÃºrate de tener estos componentes activos antes de iniciar la instalaciÃ³n.`

#### Pasos:

1. Clonar el repositorio en la carpeta `htdocs`:

   ```bash
   git clone https://github.com/usuario/proyecto.git
   cd proyecto
   composer install
   ```

2. Acceder a `"https://localhost/proyecto/".`

#### ConfiguraciÃ³n inicial:

   - **config/SERVER:** contiene credenciales, claves de encriptaciÃ³n y parÃ¡metros de seguridad.

   - **config/APP:** contiene constantes generales como nombre del sistema y rutas base.

> `ğŸ’¡ Revisa estos archivos antes de desplegar en producciÃ³n. Puedes parametrizar segÃºn entorno (dev, staging, prod).`

## 4. Estructura del proyecto

El sistema estÃ¡ organizado en **mÃ³dulos funcionales**, siguiendo una arquitectura basada en el patrÃ³n MVC (Modelo-Vista-Controlador). Esta estructura permite mantener una separaciÃ³n clara entre la lÃ³gica de negocio, la presentaciÃ³n y el control de flujo, facilitando la escalabilidad y el mantenimiento del cÃ³digo.

Las siguientes carpetas estÃ¡n pensadas para extensiÃ³n y personalizaciÃ³n:

- `view/html`  
  Contiene las vistas del sistema. Cada archivo representa una interfaz especÃ­fica y debe seguir la convenciÃ³n `nombre-view.php`. Las vistas nuevas deben registrarse en `vista_model.php` para que el sistema las reconozca.

- `assets/components`  
  Almacena fragmentos HTML reutilizables como botones, formularios, tarjetas, etc. Estos componentes pueden ser incluidos en mÃºltiples vistas para mantener consistencia visual y evitar duplicaciÃ³n de cÃ³digo.

- `helpers/js` y `helpers/php`  
  Contienen funciones auxiliares que pueden ser utilizadas en todo el sistema. En `helpers/js` se ubican scripts reutilizables para interactividad, mientras que en `helpers/php` se definen funciones para validaciÃ³n, formateo, tokens, entre otros.

- `docs`  
  Carpeta destinada a la documentaciÃ³n tÃ©cnica del proyecto. AquÃ­ se incluyen archivos como `manual_desarrollador.txt`, `estructura_proyecto.txt` y `cosas_pendientes.txt`, Ãºtiles para onboarding, revisiÃ³n tÃ©cnica y seguimiento de tareas.

> â€¯`ğŸ’¡Algunos archivos no deben modificarse directamente: .htaccess, composer.lock, index.php, vendor/, config/SERVER/. Alterarlos puede comprometer la estabilidad, seguridad o compatibilidad del sistema.`

## 5. Flujo de ejecuciÃ³n

El sistema utiliza un flujo de carga dinÃ¡mico para renderizar vistas en funciÃ³n de la URL solicitada. Este mecanismo permite mantener una arquitectura desacoplada y facilita la extensiÃ³n del sistema sin alterar su nÃºcleo.

**La ruta de ejecuciÃ³n sigue esta secuencia:**

    index.php â†’ vista_controller.php â†’ vista_model.php â†’ plantilla.php â†’ layouts + vista

**ExplicaciÃ³n del flujo:**

- `.htaccess`  
  Reescribe las URLs amigables del sistema, transformando rutas como `/inicio` en llamadas internas del tipo `index.php?page=inicio`.

- `vista_controller.php`  
  Interpreta el parÃ¡metro `page` recibido por GET y determina quÃ© vista debe cargarse. TambiÃ©n puede incluir lÃ³gica adicional si se requiere procesamiento previo.

- `vista_model.php`  
  Valida que la vista solicitada exista en el arreglo `paginas_existentes`. Si no estÃ¡ registrada, se redirige a una vista de error o a la pÃ¡gina principal.

- `plantilla.php`  
  Integra los layouts comunes (`header.php`, `footer.php`, `links.php`, `scripts.php`) y carga la vista solicitada dentro de la estructura general del sistema.

> â€¯`ğŸ’¡Este flujo modular permite agregar nuevas vistas sin modificar el nÃºcleo del sistema, manteniendo la escalabilidad y la claridad del cÃ³digo.`

## 6. Convenciones de desarrollo

Para mantener la coherencia, legibilidad y escalabilidad del sistema, se siguen las siguientes convenciones de desarrollo en toda la estructura del proyecto:

- **Archivos en minÃºsculas con guiones bajos**  
  Todos los archivos deben nombrarse en minÃºsculas y utilizar guiones bajos para separar palabras. Ejemplo: `vista_controller.php`. Esto facilita la lectura y evita conflictos en sistemas sensibles a mayÃºsculas.

- **Funciones en camelCase**  
  Las funciones deben definirse utilizando la convenciÃ³n *camelCase*, comenzando con minÃºscula y sin guiones ni espacios. Ejemplos: `cargarVista`, `encriptarDato`. Esta convenciÃ³n mejora la consistencia en el cÃ³digo PHP y JavaScript.

- **Vistas nombradas como `nombre-view.php`**  
  Cada vista debe seguir el formato `nombre-view.php`, donde `nombre` representa el identificador funcional de la vista. Esto permite que el sistema las reconozca y las cargue dinÃ¡micamente.

- **Registro obligatorio de vistas en `vista_model.php`**  
  Toda vista nueva debe ser registrada en el arreglo `paginas_existentes` dentro de `vista_model.php`. Si no se registra, el sistema no podrÃ¡ cargarla correctamente y redirigirÃ¡ a una vista de error.

> â€¯`ğŸ’¡Seguir estas convenciones garantiza que el sistema se mantenga ordenado, reproducible y fÃ¡cilmente escalable por cualquier miembro del equipo.`


## 7. Frontend

El sistema estÃ¡ diseÃ±ado para facilitar la construcciÃ³n de interfaces limpias, reutilizables y responsivas. La integraciÃ³n de estilos, scripts y componentes se realiza de forma modular, manteniendo la separaciÃ³n entre estructura, presentaciÃ³n y lÃ³gica.

**Framework principal:**

- **Bootstrap 5**  
  Puede utilizarse de forma local (copiado desde `vendor/`) o mediante CDN. Esto permite flexibilidad segÃºn el entorno de despliegue y facilita el diseÃ±o responsivo sin necesidad de escribir estilos desde cero.

**Layouts integrados automÃ¡ticamente:**

- `header.php`, `footer.php`, `links.php`, `scripts.php`  
  Estos archivos conforman la estructura base de cada vista. Se cargan automÃ¡ticamente desde `plantilla.php`, permitiendo mantener consistencia visual y funcional en todo el sistema.

**Componentes reutilizables:**

- `assets/components`  
  Carpeta destinada a fragmentos HTML reutilizables como botones, formularios, tarjetas, etc. Estos componentes pueden incluirse en mÃºltiples vistas para evitar duplicaciÃ³n de cÃ³digo.

**Scripts y estilos especÃ­ficos por vista:**

- `view/js` y `view/css`  
  AquÃ­ se ubican los archivos JavaScript y CSS que aplican Ãºnicamente a vistas particulares. Esto permite mantener el cÃ³digo organizado y evitar conflictos entre mÃ³dulos.

> `ğŸ’¡Separar los estilos y scripts por vista mejora la mantenibilidad del sistema y permite escalar sin afectar otras secciones.`

## 8. Backend

El sistema backend estÃ¡ diseÃ±ado para centralizar la lÃ³gica de negocio, la validaciÃ³n de datos y el acceso seguro a la base de datos. Se basa en una estructura orientada a objetos que permite extender funcionalidades sin duplicar cÃ³digo.

**Modelo base:**

- `mainModel`  
  Contiene los mÃ©todos comunes utilizados por todos los modelos del sistema. Entre ellos se incluyen:
  - ConexiÃ³n a la base de datos mediante PDO
  - EncriptaciÃ³n de datos con OpenSSL
  - Hashing de contraseÃ±as con `password_hash`
  - ValidaciÃ³n de tipos y estructuras

**Modelos especÃ­ficos:**

- Cada mÃ³dulo funcional puede tener su propio modelo ubicado en `model/`.
- Estos modelos deben **extender de `mainModel`** para heredar los mÃ©todos base y mantener consistencia en la lÃ³gica de acceso.

**Constantes globales:**

- Los archivos `config/APP` y `config/SERVER` definen constantes como:
  - Nombre del sistema
  - Ruta base
  - Claves de encriptaciÃ³n
  - Credenciales de conexiÃ³n
- Estas constantes se incluyen automÃ¡ticamente en el flujo de ejecuciÃ³n, evitando la necesidad de cargarlas manualmente.

**Seguridad integrada:**

- EncriptaciÃ³n de datos sensibles con OpenSSL
- Hashing seguro de contraseÃ±as con `password_hash`
- ValidaciÃ³n estricta de tipos y estructuras
- Uso obligatorio de `prepare` y `execute` en consultas SQL para prevenir inyecciones

> â€¯`ğŸ’¡Centralizar la lÃ³gica en mainModel y extender desde Ã©l permite mantener un backend limpio, seguro y fÃ¡cilmente escalable.`

## 9. ReutilizaciÃ³n y helpers

El proyecto incluye un conjunto de funciones reutilizables para facilitar el desarrollo. Estas funciones estÃ¡n organizadas en dos directorios principales:

#### helpers/js:

Contiene funciones de JavaScript que se pueden reutilizar en el frontend para tareas comunes como la manipulaciÃ³n del DOM, validaciones del lado del cliente, o peticiones asÃ­ncronas.

#### helpers/php:

Incluye funciones auxiliares de PHP para diversas tareas, como la validaciÃ³n de datos, el formateo de informaciÃ³n, la generaciÃ³n de tokens de seguridad y otras utilidades.

> `ğŸ’¡Estas funciones se pueden cargar en tu cÃ³digo mediante la instrucciÃ³n require_once o, en algunos casos, pueden ser incluidas directamente desde scripts.php`.

## 10. Testing y depuraciÃ³n

**Probar vistas**: Accede directamente a cada vista mediante la URL:

    https://localhost/proyecto/?page=nombre

`ğŸ’¡Esto permite verificar que la vista se carga correctamente y que los componentes se integran como se espera.`

**Activar errores en desarrollo**: Agrega las siguientes lÃ­neas en index.php o en el archivo de configuraciÃ³n para mostrar errores durante el desarrollo:

```php
error_reporting(E_ALL);
ini_set("display_errors", 1);
```

#### Herramientas recomendadas para depuraciÃ³n:

- Consola del navegador (inspecciÃ³n de errores JS, red, DOM)

- Registros del servidor en el panel de XAMPP

- Funciones de inspecciÃ³n en PHP: var_dump(), print_r()

## 11. Seguridad y buenas prÃ¡cticas

El sistema incorpora medidas de seguridad y convenciones tÃ©cnicas para proteger su integridad, evitar vulnerabilidades y facilitar el mantenimiento responsable por parte del equipo.

**Archivos protegidos (no modificar directamente):**

- `.htaccess` â€“ Controla la reescritura de URLs y el acceso al sistema  
- `composer.lock` â€“ Define versiones exactas de dependencias para garantizar compatibilidad  
- `vendor/` â€“ Contiene librerÃ­as externas gestionadas por Composer  
- `config/SERVER/` â€“ Almacena credenciales, claves de encriptaciÃ³n y parÃ¡metros sensibles

Modificar estos archivos sin conocimiento tÃ©cnico puede comprometer la **estabilidad**, la **seguridad** o la **compatibilidad** del sistema.

**Buenas prÃ¡cticas recomendadas:**

- Mantener las credenciales y claves fuera del control de versiones (ej. usando `.gitignore`)  
- Validar todas las entradas del usuario antes de procesarlas  
- Utilizar consultas preparadas (`prepare` + `execute`) para prevenir inyecciones SQL  
- Hashear contraseÃ±as con `password_hash` antes de almacenarlas  
- Encriptar datos sensibles con OpenSSL utilizando claves definidas en `SERVER`

> `ğŸ’¡La seguridad del sistema depende tanto de su arquitectura como del uso responsable por parte de los desarrolladores. Documentar y respetar estas prÃ¡cticas es clave para un proyecto sostenible.`

---

### **Manejo de credenciales y datos sensibles**

Las credenciales de base de datos, claves de encriptaciÃ³n y parÃ¡metros de seguridad se definen en `config/SERVER`.

Estos datos deben mantenerse **fuera del control de versiones**, por ejemplo, usando `.gitignore` si el proyecto se publica o se comparte en plataformas como GitHub.

> â€¯`ğŸ’¡Nunca deben imprimirse en pantalla ni exponerse en el frontend.`

---

### **Recomendaciones de seguridad**

- Validar todas las entradas del usuario antes de procesarlas  
- Utilizar consultas preparadas (`prepare` + `execute`) para evitar inyecciones SQL  
- Hashear contraseÃ±as con `password_hash` antes de almacenarlas  
- Encriptar datos sensibles con OpenSSL usando claves definidas en `SERVER`

## 12. ColaboraciÃ³n y control de versiones

#### Reglas de trabajo en equipo:

1.  Cada desarrollador debe trabajar en una rama propia, creada a partir de la versiÃ³n mÃ¡s reciente de la rama principal (master).

2.  Antes de iniciar cualquier desarrollo, se debe sincronizar con master para evitar conflictos.

3.  Las pull requests deben ser revisadas antes de fusionarse, asegurando que no se sobrescriba el trabajo de otros colaboradores.

4.  No se debe trabajar directamente sobre master sin revisiÃ³n previa.

Comandos recomendados para flujo de trabajo con git:

```bash
# Actualizar la rama principal
git checkout master
git pull origin master

# Crear una nueva rama para trabajar
git checkout -b mi-rama

# Agregar y confirmar cambios
git add .
git commit -m "DescripciÃ³n del cambio"

# Subir la rama al repositorio remoto
git push origin mi-rama

# Antes de hacer pull request, sincronizar con master
git checkout master
git pull origin master
git checkout mi-rama
git merge master

# Subir los cambios fusionados
git push origin
```

> `ğŸ’¡Este flujo garantiza que cada contribuciÃ³n estÃ© basada en la versiÃ³n mÃ¡s reciente del proyecto y que las integraciones se realicen de forma segura y ordenada.`

## 13. DocumentaciÃ³n adicional

La carpeta `docs/` centraliza los archivos de documentaciÃ³n tÃ©cnica del proyecto. Su propÃ³sito es facilitar el onboarding de nuevos colaboradores, mantener trazabilidad de decisiones tÃ©cnicas y registrar el estado evolutivo del sistema.

**Contenido actual:**

- **`cosas_pendientes.txt`**  
  Lista de tareas por completar, mejoras sugeridas o funcionalidades en desarrollo. Ãštil para priorizaciÃ³n y seguimiento.

- **`estructura_proyecto.txt`**  
  DescripciÃ³n jerÃ¡rquica de la arquitectura del sistema. Incluye mÃ³dulos, rutas, dependencias y relaciones entre componentes. Es clave para revisiÃ³n tÃ©cnica y comprensiÃ³n estructural.

- **`manual_desarrollador.txt`**  
  GuÃ­a tÃ©cnica completa que documenta el funcionamiento del sistema, convenciones de desarrollo, buenas prÃ¡cticas y recomendaciones para extender el proyecto correctamente.

---

### **Recomendaciones de uso**

- Todo nuevo documento debe ser **claro**, **descriptivo** y ubicarse dentro de la carpeta `docs/`.  
- El archivo `README.md` debe mantenerse **actualizado** con cada cambio relevante en el sistema, especialmente cuando se agregan funcionalidades, se modifica la estructura o se actualizan los requisitos tÃ©cnicos.

> `ğŸ’¡Es responsabilidad de todos actualizar la documentaciÃ³n del proyecto conforme se hagan cambios. La trazabilidad tÃ©cnica depende de una documentaciÃ³n precisa y vigente.`

## 14. ExtensiÃ³n y mantenimiento

#### Agregar nuevas vistas:

1. Crear el archivo en view/html con el nombre nombre-view.php.

2. Registrar el nombre de la vista en el arreglo paginas_existentes dentro de vista_model.php para que el sistema la reconozca.

#### Agregar nuevos modelos:

1. Ubicar el archivo en model/.

2. Extender de mainModel para heredar mÃ©todos comunes como conexiÃ³n, encriptaciÃ³n, validaciÃ³n y hashing.

#### Agregar nuevos controladores:

1. Crear el archivo en controller/.

2. Integrarlo al flujo de ejecuciÃ³n si se requiere lÃ³gica adicional para una vista o mÃ³dulo especÃ­fico.

#### Uso de Composer:

Para actualizar todas las dependencias:

```bash
composer update
```

Para instalar una nueva dependencia:

```bash
composer require nombre/paquete
```

#### Escalabilidad del sistema:

- Organizar mÃ³dulos por dominio funcional (ejemplo: usuarios, reportes, productos).

- Integrar plugins externos mediante Composer o manualmente si son independientes.

- Definir rutas dedicadas en .htaccess para flujos especÃ­ficos o mÃ³dulos aislados.

> ```ğŸ’¡Una estructura modular bien definida permite escalar el sistema sin comprometer la estabilidad ni la mantenibilidad.```

## 15. ConclusiÃ³n

Este manual proporciona una guÃ­a completa para comprender, utilizar y extender el sistema de forma segura y colaborativa. La claridad, la modularidad y la responsabilidad compartida son pilares fundamentales del proyecto. Se recomienda mantener este documento actualizado y utilizarlo como referencia principal durante el desarrollo.
