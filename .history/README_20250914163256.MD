# Proyecto MVC en PHP â€“ Base Modular para Aplicaciones Web

Este repositorio contiene una aplicaciÃ³n web estructurada bajo el patrÃ³n **Modelo-Vista-Controlador** (MVC), diseÃ±ada para facilitar el desarrollo escalable, seguro y mantenible de interfaces dinÃ¡micas en PHP. A continuaciÃ³n se detallan las secciones clave del sistema y las instrucciones para su instalaciÃ³n, uso y extensiÃ³n.

## Ãndice de navegaciÃ³n

| NÂº | SecciÃ³n                                     | Enlace interno                          |
|----|---------------------------------------------|-----------------------------------------|
| 1  | PropÃ³sito y descripciÃ³n funcional           | [Ir a secciÃ³n](#1-propÃ³sito-y-descripciÃ³n-funcional) |
| 2  | PÃºblico objetivo y tecnologÃ­as utilizadas   | [Ir a secciÃ³n](#2-pÃºblico-objetivo-y-tecnologÃ­as-utilizadas) |
| 3  | InstalaciÃ³n y configuraciÃ³n                 | [Ir a secciÃ³n](#3-instalaciÃ³n-y-configuraciÃ³n) |
| 4  | Estructura del proyecto                     | [Ir a secciÃ³n](#4-estructura-del-proyecto) |
| 5  | Flujo de ejecuciÃ³n                          | [Ir a secciÃ³n](#5-flujo-de-ejecuciÃ³n) |
| 6  | Convenciones de desarrollo                  | [Ir a secciÃ³n](#6-convenciones-de-desarrollo) |
| 7  | Frontend                                    | [Ir a secciÃ³n](#7-frontend) |
| 8  | Backend                                     | [Ir a secciÃ³n](#8-backend) |
| 9  | ReutilizaciÃ³n y helpers                     | [Ir a secciÃ³n](#9-reutilizaciÃ³n-y-helpers) |
| 10 | Testing y depuraciÃ³n                        | [Ir a secciÃ³n](#10-testing-y-depuraciÃ³n) |
| 11 | Seguridad y buenas prÃ¡cticas                | [Ir a secciÃ³n](#11-seguridad-y-buenas-prÃ¡cticas) |
| 12 | ColaboraciÃ³n y control de versiones         | [Ir a secciÃ³n](#12-colaboraciÃ³n-y-control-de-versiones) |
| 13 | DocumentaciÃ³n adicional                     | [Ir a secciÃ³n](#13-documentaciÃ³n-adicional) |
| 14 | ExtensiÃ³n y mantenimiento                   | [Ir a secciÃ³n](#14-extensiÃ³n-y-mantenimiento) |
| 15 | ConclusiÃ³n                                  | [Ir a secciÃ³n](#15-conclusiÃ³n) |

## 1. PropÃ³sito y descripciÃ³n funcional

Este proyecto sirve como _plantilla base_ para construir aplicaciones web en PHP con una arquitectura modular. Su objetivo principal es:

- **Separar claramente** la lÃ³gica de negocio, la presentaciÃ³n y el control de flujo.

- **Permitir la carga dinÃ¡mica de vistas** mediante URLs amigables, gestionadas por `.htaccess`.

- **Facilitar la reutilizaciÃ³n** de componentes HTML, scripts y estilos para mantener una interfaz coherente y eficiente.

- **Centralizar la configuraciÃ³n y seguridad** mediante constantes globales definidas en los mÃ³dulos `APP` y `SERVER`.

> `ðŸ’¡ Este enfoque modular permite escalar el sistema sin romper la base, facilitando el trabajo colaborativo y la extensiÃ³n progresiva del proyecto.`

## 2. PÃºblico objetivo y tecnologÃ­as utilizadas

Dirigido a: Desarrolladores web en entornos PHP que necesiten una base estructurada para sistemas administrativos, sitios informativos o prototipos funcionales.

#### TecnologÃ­as principales

- **PHP 8+** â€” ProgramaciÃ³n orientada a objetos para mayor claridad y reutilizaciÃ³n.
- **Apache + .htaccess** â€” Reescritura de URLs y control de acceso desde el servidor.
- **Composer** â€” GestiÃ³n de dependencias y autoloading eficiente.
- **Bootstrap 5** â€” Frontend responsivo con componentes reutilizables.
- **JavaScript** â€” Interactividad y manipulaciÃ³n dinÃ¡mica del DOM.
- **PDO** â€” Acceso seguro a bases de datos mediante prepared statements.
- **AJAX** â€” Peticiones asÃ­ncronas sin recargar la pÃ¡gina.
- **OpenSSL** â€” EncriptaciÃ³n de datos sensibles para mayor seguridad.

> `ðŸ’¡ Este stack estÃ¡ diseÃ±ado para acelerar el desarrollo seguro y modular de aplicaciones web.`

## 3. InstalaciÃ³n y configuraciÃ³n

#### Requisitos:

- **PHP 8.0** o superior
- **Apache** (_incluido en XAMPP_)
- **Composer**

> `ðŸ’¡ AsegÃºrate de tener estos componentes activos antes de iniciar la instalaciÃ³n.`

#### Pasos:

1. Clonar el repositorio en la carpeta `htdocs`:

   ```bash
   git clone https://github.com/usuario/proyecto.git
   cd proyecto
   composer install
   ```

2. Acceder a `"https://localhost/proyecto/".`

#### ConfiguraciÃ³n inicial:

**config/SERVER:** contiene credenciales, claves de encriptaciÃ³n y parÃ¡metros de seguridad.

**config/APP:** contiene constantes generales como nombre del sistema y rutas base.

> `ðŸ’¡ Revisa estos archivos antes de desplegar en producciÃ³n. Puedes parametrizar segÃºn entorno (dev, staging, prod).`

## 4. Estructura del proyecto

El sistema estÃ¡ organizado en mÃ³dulos funcionales.

#### Carpetas pensadas para extensiÃ³n:

- view/html: nuevas vistas

- assets/components: componentes HTML reutilizables

- helpers/js y helpers/php: funciones compartidas

- docs: documentaciÃ³n tÃ©cnica

> `ðŸ’¡Algunos archivos no deben modificarse directamente (.htaccess, composer.lock, index.php, vendor/, SERVER/).`

## 5. Flujo de ejecuciÃ³n

#### Ruta de carga de vistas:

    index.php â†’ vista_controller.php â†’ vista_model.php â†’ plantilla.php â†’ layouts + vista

- .htaccess reescribe URLs como index.php?page=nombre.

- vista_controller interpreta el parÃ¡metro page.

- vista_model valida la existencia de la vista.

- plantilla.php integra layouts (header, footer, etc.) y la vista solicitada.

## 6. Convenciones de desarrollo

    1. Archivos en minÃºsculas con guiones bajos (vista_controller.php).

    2. Funciones en camelCase (cargarVista, encriptarDato).

    3. Vistas nombradas como nombre-view.php.

    4. Nuevas vistas deben registrarse en vista_model.php.

## 7. Frontend

- Bootstrap puede usarse localmente (copiado desde vendor/) o por CDN.

- Layouts (header.php, footer.php, links.php, scripts.php) se integran automÃ¡ticamente.

- Componentes HTML se ubican en assets/components.

- Scripts y estilos especÃ­ficos se colocan en view/js y view/css.

## 8. Backend

- mainModel contiene mÃ©todos comunes: conexiÃ³n, encriptaciÃ³n, hashing, validaciÃ³n.

- Modelos especÃ­ficos extienden de mainModel.

- Constantes globales (APP, SERVER) se incluyen automÃ¡ticamente.

- Seguridad: OpenSSL, password_hash, validaciÃ³n de tipos, uso de prepare en SQL.

## 9. ReutilizaciÃ³n y helpers

El proyecto incluye un conjunto de funciones reutilizables para facilitar el desarrollo. Estas funciones estÃ¡n organizadas en dos directorios principales:

#### helpers/js:

Contiene funciones de JavaScript que se pueden reutilizar en el frontend para tareas comunes como la manipulaciÃ³n del DOM, validaciones del lado del cliente, o peticiones asÃ­ncronas.

#### helpers/php:

Incluye funciones auxiliares de PHP para diversas tareas, como la validaciÃ³n de datos, el formateo de informaciÃ³n, la generaciÃ³n de tokens de seguridad y otras utilidades.

> `ðŸ’¡Estas funciones se pueden cargar en tu cÃ³digo mediante la instrucciÃ³n require_once o, en algunos casos, pueden ser incluidas directamente desde scripts.php`.

## 10. Testing y depuraciÃ³n

**Probar vistas**: Accede directamente a cada vista mediante la URL:

    https://localhost/proyecto/?page=nombre

`ðŸ’¡Esto permite verificar que la vista se carga correctamente y que los componentes se integran como se espera.`

**Activar errores en desarrollo**: Agrega las siguientes lÃ­neas en index.php o en el archivo de configuraciÃ³n para mostrar errores durante el desarrollo:

```php
error_reporting(E_ALL);
ini_set("display_errors", 1);
```

#### Herramientas recomendadas para depuraciÃ³n:

- Consola del navegador (inspecciÃ³n de errores JS, red, DOM)

- Registros del servidor en el panel de XAMPP

- Funciones de inspecciÃ³n en PHP: var_dump(), print_r()

## 11. Seguridad y buenas prÃ¡cticas

**Archivos protegidos** (no modificar directamente):

- .htaccess

- composer.lock

- vendor/

- config/SERVER/

Estos archivos controlan el enrutamiento, las dependencias, las librerÃ­as externas y la configuraciÃ³n sensible del sistema. Modificarlos sin conocimiento tÃ©cnico puede comprometer la estabilidad o seguridad del proyecto.

#### Manejo de credenciales y datos sensibles:

Las credenciales de base de datos, claves de encriptaciÃ³n y parÃ¡metros de seguridad se definen en config/SERVER.

Estos datos deben mantenerse fuera del control de versiones (por ejemplo, usando .gitignore si el proyecto se publica).

> `ðŸ’¡Nunca deben imprimirse en pantalla ni exponerse en el frontend.`

#### Recomendaciones de seguridad:

- Validar todas las entradas del usuario antes de procesarlas.

- Utilizar consultas preparadas (prepare + execute) para evitar inyecciones SQL.

- Hashear contraseÃ±as con password_hash antes de almacenarlas.

- Encriptar datos sensibles con OpenSSL usando claves definidas en SERVER.

## 12. ColaboraciÃ³n y control de versiones

#### Reglas de trabajo en equipo:

1.  Cada desarrollador debe trabajar en una rama propia, creada a partir de la versiÃ³n mÃ¡s reciente de la rama principal (master).

2.  Antes de iniciar cualquier desarrollo, se debe sincronizar con master para evitar conflictos.

3.  Las pull requests deben ser revisadas antes de fusionarse, asegurando que no se sobrescriba el trabajo de otros colaboradores.

4.  No se debe trabajar directamente sobre master sin revisiÃ³n previa.

Comandos recomendados para flujo de trabajo con git:

```bash
# Actualizar la rama principal
git checkout master
git pull origin master

# Crear una nueva rama para trabajar
git checkout -b mi-rama

# Agregar y confirmar cambios
git add .
git commit -m "DescripciÃ³n del cambio"

# Subir la rama al repositorio remoto
git push origin mi-rama

# Antes de hacer pull request, sincronizar con master
git checkout master
git pull origin master
git checkout mi-rama
git merge master

# Subir los cambios fusionados
git push origin
```

> `ðŸ’¡Este flujo garantiza que cada contribuciÃ³n estÃ© basada en la versiÃ³n mÃ¡s reciente del proyecto y que las integraciones se realicen de forma segura y ordenada.`

## 13. DocumentaciÃ³n adicional

#### Contenido de la carpeta docs/:

- **cosas_pendientes.txt** Lista de tareas por completar, mejoras sugeridas o funcionalidades en desarrollo.

- **estructura_proyecto.txt** DescripciÃ³n jerÃ¡rquica de la arquitectura del sistema, Ãºtil para onboarding y revisiÃ³n tÃ©cnica.

- **manual_desarrollador.txt** GuÃ­a tÃ©cnica completa que documenta el funcionamiento del sistema, buenas prÃ¡cticas y convenciones de desarrollo.

#### Recomendaciones:

- Todo nuevo documento debe ser claro, descriptivo y ubicarse dentro de la carpeta docs/.

- El archivo README.md debe mantenerse actualizado con cada cambio relevante en el sistema, especialmente cuando se agregan funcionalidades, se modifica la estructura o se actualizan los requisitos tÃ©cnicos.

> `ðŸ’¡Es responsabilidad de todos actuallizar la documentacion del proyecto con forme se hagan cambios`

## 14. ExtensiÃ³n y mantenimiento

#### Agregar nuevas vistas:

1. Crear el archivo en view/html con el nombre nombre-view.php.

2. Registrar el nombre de la vista en el arreglo paginas_existentes dentro de vista_model.php para que el sistema la reconozca.

#### Agregar nuevos modelos:

1. Ubicar el archivo en model/.

2. Extender de mainModel para heredar mÃ©todos comunes como conexiÃ³n, encriptaciÃ³n, validaciÃ³n y hashing.

#### Agregar nuevos controladores:

1. Crear el archivo en controller/.

2. Integrarlo al flujo de ejecuciÃ³n si se requiere lÃ³gica adicional para una vista o mÃ³dulo especÃ­fico.

#### Uso de Composer:

Para actualizar todas las dependencias:

```bash
composer update
```

Para instalar una nueva dependencia:

```bash
composer require nombre/paquete
```

#### Escalabilidad del sistema:

- Organizar mÃ³dulos por dominio funcional (ejemplo: usuarios, reportes, productos).

- Integrar plugins externos mediante Composer o manualmente si son independientes.

- Definir rutas dedicadas en .htaccess para flujos especÃ­ficos o mÃ³dulos aislados.

## 15. ConclusiÃ³n

Este manual proporciona una guÃ­a completa para comprender, utilizar y extender el sistema de forma segura y colaborativa. La claridad, la modularidad y la responsabilidad compartida son pilares fundamentales del proyecto. Se recomienda mantener este documento actualizado y utilizarlo como referencia principal durante el desarrollo.

>pupuleco